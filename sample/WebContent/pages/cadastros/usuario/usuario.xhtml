<?xml version='1.0' encoding='UTF-8'?>
<!DOCTYPE html>


<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui"
	xmlns:f="http://java.sun.com/jsf/core" template="/pages/templates/template.xhtml">

	<ui:define name="pageContent">

		<h:inputHidden value="#{usuarioBean.entity.id}" rendered="#{usuarioBean.updateState}"/>
	
		
		<p:fieldset legend="Cadastro de UsuÃ¡rios">
		
			<h:panelGrid columns="3" styleClass="crudd" columnClasses="label"  rendered="#{usuarioBean.pessoaExiste}">

				<h:outputLabel value="Perfil"/>
	    		<h:selectOneMenu id="perfil" value="#{usuarioBean.entity.role}" required="true" converter="entityConverter"   requiredMessage="Informe o perfil ...">
	    			<f:selectItem itemValue="" itemLabel="..."/>
	    			<f:selectItems value="#{usuarioBean.perfis}" var="p" itemLabel="#{p.nome}" itemValue="#{p}"/>
	    		</h:selectOneMenu>
	    		<p:message errorClass="error" for="perfil"  styleClass="message"/>
		
				<h:outputLabel value="Login"/>
				<h:inputText id="login" value="#{usuarioBean.entity.login}" required="true"/>
				<p:message errorClass="error" for="login"/>
	
				<h:outputLabel value="Senha"/>
				<h:inputSecret id="senha" value="#{usuarioBean.entity.senha}" required="true"/>
				<p:message errorClass="error" for="senha"/>
		
			</h:panelGrid>
		
		</p:fieldset>


		<p:commandButton value="Salvar" type="submit" action="#{usuarioBean.save}" styleClass="button" 
						rendered="#{usuarioBean.saveState}" update="appForm"  ajax="false"/>

		<p:commandButton value="Alterar" type="submit" action="#{usuarioBean.update}" styleClass="button" 
						rendered="#{usuarioBean.updateState}" update="appForm"  ajax="false"/>

		<p:commandButton value="Voltar" action="#{usuarioBean.search}" update="appForm" styleClass="button" immediate="true" ajax="false"/>

	</ui:define>

</ui:composition>

